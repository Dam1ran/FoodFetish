var a,d=new Uint8Array(16);function x(){if(!a){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a=crypto.getRandomValues.bind(crypto)}return a(d)}var o=[];for(let e=0;e<256;++e)o.push((e+256).toString(16).slice(1));function u(e,r=0){return(o[e[r+0]]+o[e[r+1]]+o[e[r+2]]+o[e[r+3]]+"-"+o[e[r+4]]+o[e[r+5]]+"-"+o[e[r+6]]+o[e[r+7]]+"-"+o[e[r+8]]+o[e[r+9]]+"-"+o[e[r+10]]+o[e[r+11]]+o[e[r+12]]+o[e[r+13]]+o[e[r+14]]+o[e[r+15]]).toLowerCase()}var l={};function g(e,r,i){let t;if(e)t=m(e.random??e.rng?.()??x(),e.msecs,e.seq,r,i);else{let n=Date.now(),p=x();c(l,n,p),t=m(p,l.msecs,l.seq,r,i)}return r??u(t)}function c(e,r,i){return e.msecs??=-1/0,e.seq??=0,r>e.msecs?(e.seq=i[6]<<23|i[7]<<16|i[8]<<8|i[9],e.msecs=r):(e.seq=e.seq+1|0,e.seq===0&&e.msecs++),e}function m(e,r,i,t,n=0){if(e.length<16)throw new Error("Random bytes length must be >= 16");if(!t)t=new Uint8Array(16),n=0;else if(n<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);return r??=Date.now(),i??=e[6]*127<<24|e[7]<<16|e[8]<<8|e[9],t[n++]=r/1099511627776&255,t[n++]=r/4294967296&255,t[n++]=r/16777216&255,t[n++]=r/65536&255,t[n++]=r/256&255,t[n++]=r&255,t[n++]=112|i>>>28&15,t[n++]=i>>>20&255,t[n++]=128|i>>>14&63,t[n++]=i>>>6&255,t[n++]=i<<2&255|e[10]&3,t[n++]=e[11],t[n++]=e[12],t[n++]=e[13],t[n++]=e[14],t[n++]=e[15],t}var y=g;export{y as a};
