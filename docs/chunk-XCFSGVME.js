import{a as yt,b as Qt}from"./chunk-WDYPBNYK.js";import{a as We,b as xt,c as Tt,f as St,h as kt,i as be,j as wt,m as ve,n as Et,o as ee,p as It,q as Ft,r as Rt,s as Pt,t as At,u as Gt,v as Bt}from"./chunk-WAFBSVXO.js";import{c as Dt,d as F,e as $e,f as G,g as x,h as Le,i as bt,j as vt,k as Mt,l as Nt}from"./chunk-7PAVKZHM.js";import{$a as dt,Aa as de,B as me,C as v,Ca as N,Da as z,Ea as _,Eb as Ct,F as u,Fa as Pe,Ga as f,I as m,J as p,Ja as ot,K as oe,Ka as Ae,L as tt,La as Q,M as pe,Ma as Z,N as A,Na as st,O as Ie,Oa as lt,Pa as X,Q as U,Ra as V,T as Fe,Ta as Ge,U as q,Ua as h,V as se,Va as j,Wa as g,X as l,Xa as _e,Y as nt,Ya as ye,Z as it,Za as De,_ as rt,_a as ct,a as ae,ab as ue,b as Ce,bb as Be,da as at,db as ut,e as zt,ea as P,eb as ft,g as Ze,ga as Re,gb as ht,h as he,hb as fe,ia as L,ib as gt,la as le,mb as mt,n as Ee,nb as pt,ob as Ve,p as Xe,pa as k,q as ge,qa as w,ra as J,sa as K,sb as _t,ta as C,tb as je,ua as E,va as D,wa as c,wb as Ot,x as et,xa as s,ya as M,za as ce}from"./chunk-X7PV6LLS.js";function Me(n){n||(n=u(pe));let r=new Ze(e=>{if(n.destroyed){e.next();return}return n.onDestroy(e.next.bind(e))});return e=>e.pipe(et(r))}var Zt=["ngbDatepickerDayView",""],Xt=["month"],en=["year"];function tn(n,r){if(n&1&&(ce(0,"option",3),h(1),de()),n&2){let e=r.$implicit,t=f();z("value",e),le("aria-label",t.i18n.getMonthFullName(e,t.date.year)),l(),j(t.i18n.getMonthShortName(e,t.date.year))}}function nn(n,r){if(n&1&&(ce(0,"option",3),h(1),de()),n&2){let e=r.$implicit,t=f();z("value",e),l(),j(t.i18n.getYearNumerals(e))}}function $t(n,r){return this.idMonth(r)}function rn(n,r){if(n&1){let e=N();c(0,"ngb-datepicker-navigation-select",7),_("select",function(i){m(e);let a=f();return p(a.select.emit(i))}),s()}if(n&2){let e=f();D("date",e.date)("disabled",e.disabled)("months",e.selectBoxes.months)("years",e.selectBoxes.years)}}function an(n,r){n&1&&M(0,"div",8)}function on(n,r){n&1&&M(0,"div",8)}function sn(n,r){if(n&1&&(k(0,an,1,0,"div",8),c(1,"div",9),h(2),s(),k(3,on,1,0,"div",8)),n&2){let e=r.$implicit,t=r.$index,i=f(2);w(t>0?0:-1),l(2),g(" ",i.i18n.getMonthLabel(e.firstDate)," "),l(),w(t!==i.months.length-1?3:-1)}}function ln(n,r){if(n&1&&C(0,sn,4,3,null,null,$t,!0),n&2){let e=f();E(e.months)}}function cn(n,r){if(n&1&&(c(0,"span"),h(1),s()),n&2){let e=r.$implicit,t=f();l(),j(t.i18n.getMonthLabel(e.firstDate))}}function dn(n,r){if(n&1&&(c(0,"div",1),h(1),s()),n&2){let e=f(2);l(),j(e.i18n.getWeekLabel())}}function un(n,r){if(n&1&&(c(0,"div",2),h(1),s()),n&2){let e=r.$implicit;l(),j(e)}}function fn(n,r){if(n&1&&(c(0,"div",0),k(1,dn,2,1,"div",1),C(2,un,2,1,"div",2,J),s()),n&2){let e=f();l(),w(e.datepicker.showWeekNumbers?1:-1),l(),E(e.viewModel.weekdays)}}function hn(n,r){if(n&1&&(c(0,"div",4),h(1),s()),n&2){let e=f(2).$implicit,t=f();l(),j(t.i18n.getWeekNumerals(e.number))}}function gn(n,r){}function mn(n,r){if(n&1&&L(0,gn,0,0,"ng-template",7),n&2){let e=f().$implicit,t=f(3);D("ngTemplateOutlet",t.datepicker.dayTemplate)("ngTemplateOutletContext",e.context)}}function pn(n,r){if(n&1){let e=N();c(0,"div",6),_("click",function(i){let a=m(e).$implicit;return f(3).doSelect(a),p(i.preventDefault())}),k(1,mn,1,2,null,7),s()}if(n&2){let e=r.$implicit;V("disabled",e.context.disabled)("hidden",e.hidden)("ngb-dp-today",e.context.today),D("tabindex",e.tabindex),le("aria-label",e.ariaLabel)("aria-disabled",e.context.disabled)("aria-selected",e.context.selected),l(),w(e.hidden?-1:1)}}function _n(n,r){if(n&1&&(c(0,"div",3),k(1,hn,2,1,"div",4),C(2,pn,2,11,"div",5,K),s()),n&2){let e=f().$implicit,t=f();l(),w(t.datepicker.showWeekNumbers?1:-1),l(),E(e.days)}}function yn(n,r){if(n&1&&k(0,_n,4,1,"div",3),n&2){let e=r.$implicit;w(e.collapsed?-1:0)}}var Dn=["defaultDayTemplate"],bn=["content"],vn=n=>({$implicit:n});function Mn(n,r){if(n&1&&M(0,"div",8),n&2){let e=r.date,t=r.currentMonth,i=r.selected,a=r.disabled,o=r.focused;D("date",e)("currentMonth",t)("selected",i)("disabled",a)("focused",o)}}function xn(n,r){if(n&1&&(c(0,"div",10),h(1),s()),n&2){let e=f().$implicit,t=f(2);l(),g(" ",t.i18n.getMonthLabel(e.firstDate)," ")}}function Tn(n,r){if(n&1&&(c(0,"div",9),k(1,xn,2,1,"div",10),M(2,"ngb-datepicker-month",11),s()),n&2){let e=r.$implicit,t=f(2);l(),w(t.navigation==="none"||t.displayMonths>1&&t.navigation==="select"?1:-1),l(),D("month",e.firstDate)}}function Sn(n,r){if(n&1&&C(0,Tn,3,2,"div",9,K),n&2){let e=f();E(e.model.months)}}function kn(n,r){if(n&1){let e=N();c(0,"ngb-datepicker-navigation",12),_("navigate",function(i){m(e);let a=f();return p(a.onNavigateEvent(i))})("select",function(i){m(e);let a=f();return p(a.onNavigateDateSelect(i))}),s()}if(n&2){let e=f();D("date",e.model.firstDate)("months",e.model.months)("disabled",e.model.disabled)("showSelect",e.model.navigation==="select")("prevDisabled",e.model.prevDisabled)("nextDisabled",e.model.nextDisabled)("selectBoxes",e.model.selectBoxes)}}function wn(n,r){}function Nn(n,r){}var O=class n{static from(r){return r instanceof n?r:r?new n(r.year,r.month,r.day):null}constructor(r,e,t){this.year=x(r)?r:null,this.month=x(e)?e:null,this.day=x(t)?t:null}equals(r){return r!=null&&this.year===r.year&&this.month===r.month&&this.day===r.day}before(r){return r?this.year===r.year?this.month===r.month?this.day===r.day?!1:this.day<r.day:this.month<r.month:this.year<r.year:!1}after(r){return r?this.year===r.year?this.month===r.month?this.day===r.day?!1:this.day>r.day:this.month>r.month:this.year>r.year:!1}};function Vt(n){return new O(n.getFullYear(),n.getMonth()+1,n.getDate())}function xe(n){let r=new Date(n.year,n.month-1,n.day,12);return isNaN(r.getTime())||r.setFullYear(n.year),r}function On(){return new Cn}var ne=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=v({token:n,factory:()=>On(),providedIn:"root"})}}return n})(),Cn=(()=>{class n extends ne{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(e,t="d",i=1){let a=xe(e),o=!0,d=a.getMonth();switch(t){case"y":a.setFullYear(a.getFullYear()+i);break;case"m":d+=i,a.setMonth(d),d=d%12,d<0&&(d=d+12);break;case"d":a.setDate(a.getDate()+i),o=!1;break;default:return e}return o&&a.getMonth()!==d&&a.setDate(0),Vt(a)}getPrev(e,t="d",i=1){return this.getNext(e,t,-i)}getWeekday(e){let i=xe(e).getDay();return i===0?7:i}getWeekNumber(e,t){t===7&&(t=0);let i=(11-t)%7,a=e[i],o=xe(a);o.setDate(o.getDate()+4-(o.getDay()||7));let d=o.getTime();return o.setMonth(0),o.setDate(1),Math.floor(Math.round((d-o.getTime())/864e5)/7)+1}getToday(){return Vt(new Date)}isValid(e){if(!e||!x(e.year)||!x(e.month)||!x(e.day)||e.year===0)return!1;let t=xe(e);return!isNaN(t.getTime())&&t.getFullYear()===e.year&&t.getMonth()+1===e.month&&t.getDate()===e.day}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=q(n)))(i||n)}})()}static{this.\u0275prov=v({token:n,factory:n.\u0275fac})}}return n})();function te(n,r){return!En(n,r)}function Lt(n,r){return!n&&!r?!1:!n||!r?!0:n.year!==r.year||n.month!==r.month}function En(n,r){return!n&&!r||!!n&&!!r&&n.equals(r)}function In(n,r){if(r&&n&&r.before(n))throw new Error(`'maxDate' ${r} should be greater than 'minDate' ${n}`)}function Te(n,r,e){return n&&r&&n.before(r)?r:n&&e&&n.after(e)?e:n||null}function He(n,r){let{minDate:e,maxDate:t,disabled:i,markDisabled:a}=r;return!(n==null||i||a&&a(n,{year:n.year,month:n.month})||e&&n.before(e)||t&&n.after(t))}function Fn(n,r,e,t){if(!r)return[];let i=n.getMonths(r.year);if(e&&r.year===e.year){let a=i.findIndex(o=>o===e.month);i=i.slice(a)}if(t&&r.year===t.year){let a=i.findIndex(o=>o===t.month);i=i.slice(0,a+1)}return i}function Rn(n,r,e){if(!n)return[];let t=r?Math.max(r.year,n.year-500):n.year-10,a=(e?Math.min(e.year,n.year+500):n.year+10)-t+1,o=Array(a);for(let d=0;d<a;d++)o[d]=t+d;return o}function Pn(n,r,e){let t=Object.assign(n.getNext(r,"m"),{day:1});return e!=null&&t.after(e)}function An(n,r,e){let t=Object.assign(n.getPrev(r,"m"),{day:1});return e!=null&&(t.year===e.year&&t.month<e.month||t.year<e.year&&e.month===1)}function Gn(n,r,e,t,i){let{displayMonths:a,months:o}=e,d=o.splice(0,o.length);return Array.from({length:a},(I,T)=>{let H=Object.assign(n.getNext(r,"m",T),{day:1});if(o[T]=null,!i){let y=d.findIndex(Ne=>Ne.firstDate.equals(H));y!==-1&&(o[T]=d.splice(y,1)[0])}return H}).forEach((I,T)=>{o[T]===null&&(o[T]=Bn(n,I,e,t,d.shift()||{}))}),o}function Bn(n,r,e,t,i={}){let{dayTemplateData:a,minDate:o,maxDate:d,firstDayOfWeek:R,markDisabled:I,outsideDays:T,weekdayWidth:H,weekdaysVisible:y}=e,Ne=n.getToday();i.firstDate=null,i.lastDate=null,i.number=r.month,i.year=r.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],r=Vn(n,r,R),y||(i.weekdays.length=0);for(let ie=0;ie<n.getWeeksPerMonth();ie++){let re=i.weeks[ie];re||(re=i.weeks[ie]={number:0,days:[],collapsed:!0});let Y=re.days;for(let $=0;$<n.getDaysPerWeek();$++){ie===0&&y&&(i.weekdays[$]=t.getWeekdayLabel(n.getWeekday(r),H));let S=new O(r.year,r.month,r.day),Qe=n.getNext(S),qt=t.getDayAriaLabel(S),Oe=!!(o&&S.before(o)||d&&S.after(d));!Oe&&I&&(Oe=I(S,{month:i.number,year:i.year}));let Jt=S.equals(Ne),Kt=a?a(S,{month:i.number,year:i.year}):void 0;i.firstDate===null&&S.month===i.number&&(i.firstDate=S),S.month===i.number&&Qe.month!==i.number&&(i.lastDate=S);let B=Y[$];B||(B=Y[$]={}),B.date=S,B.context=Object.assign(B.context||{},{$implicit:S,date:S,data:Kt,currentMonth:i.number,currentYear:i.year,disabled:Oe,focused:!1,selected:!1,today:Jt}),B.tabindex=-1,B.ariaLabel=qt,B.hidden=!1,r=Qe}re.number=n.getWeekNumber(Y.map($=>$.date),R),re.collapsed=T==="collapsed"&&Y[0].date.month!==i.number&&Y[Y.length-1].date.month!==i.number}return i}function Vn(n,r,e){let t=n.getDaysPerWeek(),i=new O(r.year,r.month,1),a=n.getWeekday(i)%t;return n.getPrev(i,"d",(t+a-e)%t)}var W=(()=>{class n{getMonthLabel(e){return`${this.getMonthFullName(e.month,e.year)} ${this.getYearNumerals(e.year)}`}getDayNumerals(e){return`${e.day}`}getWeekNumerals(e){return`${e}`}getYearNumerals(e){return`${e}`}getWeekLabel(){return""}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=v({token:n,factory:()=>new jn,providedIn:"root"})}}return n})(),jn=(()=>{class n extends W{constructor(){super(...arguments),this._locale=u(gt),this._monthsShort=[...Array(12).keys()].map(e=>Intl.DateTimeFormat(this._locale,{month:"short",timeZone:"UTC"}).format(Date.UTC(2e3,e))),this._monthsFull=[...Array(12).keys()].map(e=>Intl.DateTimeFormat(this._locale,{month:"long",timeZone:"UTC"}).format(Date.UTC(2e3,e)))}getWeekdayLabel(e,t="narrow"){return[1,2,3,4,5,6,7].map(a=>Intl.DateTimeFormat(this._locale,{weekday:t,timeZone:"UTC"}).format(Date.UTC(2e3,4,a)))[e-1]||""}getMonthShortName(e){return this._monthsShort[e-1]||""}getMonthFullName(e){return this._monthsFull[e-1]||""}getDayAriaLabel(e){let t=new Date(e.year,e.month-1,e.day);return _t(t,"fullDate",this._locale)}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=q(n)))(i||n)}})()}static{this.\u0275prov=v({token:n,factory:n.\u0275fac})}}return n})(),Ye=(()=>{class n{constructor(){this._VALIDATORS={dayTemplateData:e=>{if(this._state.dayTemplateData!==e)return{dayTemplateData:e}},displayMonths:e=>{if(e=F(e),x(e)&&e>0&&this._state.displayMonths!==e)return{displayMonths:e}},disabled:e=>{if(this._state.disabled!==e)return{disabled:e}},firstDayOfWeek:e=>{if(e=F(e),x(e)&&e>=0&&this._state.firstDayOfWeek!==e)return{firstDayOfWeek:e}},focusVisible:e=>{if(this._state.focusVisible!==e&&!this._state.disabled)return{focusVisible:e}},markDisabled:e=>{if(this._state.markDisabled!==e)return{markDisabled:e}},maxDate:e=>{let t=this.toValidDate(e,null);if(te(this._state.maxDate,t))return{maxDate:t}},minDate:e=>{let t=this.toValidDate(e,null);if(te(this._state.minDate,t))return{minDate:t}},navigation:e=>{if(this._state.navigation!==e)return{navigation:e}},outsideDays:e=>{if(this._state.outsideDays!==e)return{outsideDays:e}},weekdays:e=>{let t=e===!0||e===!1?"narrow":e,i=e===!0||e===!1?e:!0;if(this._state.weekdayWidth!==t||this._state.weekdaysVisible!==i)return{weekdayWidth:t,weekdaysVisible:i}}},this._calendar=u(ne),this._i18n=u(W),this._model$=new he,this._dateSelect$=new he,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:"narrow",weekdaysVisible:!0}}get model$(){return this._model$.pipe(ge(e=>e.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(ge(e=>e!==null))}set(e){let t=Object.keys(e).map(i=>this._VALIDATORS[i](e[i])).reduce((i,a)=>ae(ae({},i),a),{});Object.keys(t).length>0&&this._nextState(t)}focus(e){let t=this.toValidDate(e,null);t!=null&&!this._state.disabled&&te(this._state.focusDate,t)&&this._nextState({focusDate:e})}focusSelect(){He(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(e){let t=this.toValidDate(e,this._calendar.getToday());t!=null&&!this._state.disabled&&(!this._state.firstDate||Lt(this._state.firstDate,t))&&this._nextState({firstDate:t})}select(e,t={}){let i=this.toValidDate(e,null);i!=null&&!this._state.disabled&&(te(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),t.emitEvent&&He(i,this._state)&&this._dateSelect$.next(i))}toValidDate(e,t){let i=O.from(e);return t===void 0&&(t=this._calendar.getToday()),this._calendar.isValid(i)?i:t}getMonth(e){for(let t of this._state.months)if(e.month===t.number&&e.year===t.year)return t;throw new Error(`month ${e.month} of year ${e.year} not found`)}_nextState(e){let t=this._updateState(e);this._patchContexts(t),this._state=t,this._model$.next(this._state)}_patchContexts(e){let{months:t,displayMonths:i,selectedDate:a,focusDate:o,focusVisible:d,disabled:R,outsideDays:I}=e;e.months.forEach(T=>{T.weeks.forEach(H=>{H.days.forEach(y=>{o&&(y.context.focused=o.equals(y.date)&&d),y.tabindex=!R&&o&&y.date.equals(o)&&o.month===T.number?0:-1,R===!0&&(y.context.disabled=!0),a!==void 0&&(y.context.selected=a!==null&&a.equals(y.date)),T.number!==y.date.month&&(y.hidden=I==="hidden"||I==="collapsed"||i>1&&y.date.after(t[0].firstDate)&&y.date.before(t[i-1].lastDate))})})})}_updateState(e){let t=Object.assign({},this._state,e),i=t.firstDate;if(("minDate"in e||"maxDate"in e)&&(In(t.minDate,t.maxDate),t.focusDate=Te(t.focusDate,t.minDate,t.maxDate),t.firstDate=Te(t.firstDate,t.minDate,t.maxDate),i=t.focusDate),"disabled"in e&&(t.focusVisible=!1),"selectedDate"in e&&this._state.months.length===0&&(i=t.selectedDate),"focusVisible"in e||"focusDate"in e&&(t.focusDate=Te(t.focusDate,t.minDate,t.maxDate),i=t.focusDate,t.months.length!==0&&t.focusDate&&!t.focusDate.before(t.firstDate)&&!t.focusDate.after(t.lastDate)))return t;if("firstDate"in e&&(t.firstDate=Te(t.firstDate,t.minDate,t.maxDate),i=t.firstDate),i){let a="dayTemplateData"in e||"firstDayOfWeek"in e||"markDisabled"in e||"minDate"in e||"maxDate"in e||"disabled"in e||"outsideDays"in e||"weekdaysVisible"in e,o=Gn(this._calendar,i,t,this._i18n,a);t.months=o,t.firstDate=o[0].firstDate,t.lastDate=o[o.length-1].lastDate,"selectedDate"in e&&!He(t.selectedDate,t)&&(t.selectedDate=null),"firstDate"in e&&(!t.focusDate||t.focusDate.before(t.firstDate)||t.focusDate.after(t.lastDate))&&(t.focusDate=i);let d=!this._state.firstDate||this._state.firstDate.year!==t.firstDate.year,R=!this._state.firstDate||this._state.firstDate.month!==t.firstDate.month;t.navigation==="select"?(("minDate"in e||"maxDate"in e||t.selectBoxes.years.length===0||d)&&(t.selectBoxes.years=Rn(t.firstDate,t.minDate,t.maxDate)),("minDate"in e||"maxDate"in e||t.selectBoxes.months.length===0||d)&&(t.selectBoxes.months=Fn(this._calendar,t.firstDate,t.minDate,t.maxDate))):t.selectBoxes={years:[],months:[]},(t.navigation==="arrows"||t.navigation==="select")&&(R||d||"minDate"in e||"maxDate"in e||"disabled"in e)&&(t.prevDisabled=t.disabled||An(this._calendar,t.firstDate,t.minDate),t.nextDisabled=t.disabled||Pn(this._calendar,t.lastDate,t.maxDate))}return t}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=v({token:n,factory:n.\u0275fac})}}return n})(),Se=(function(n){return n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT",n})(Se||{}),qe=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays="narrow"}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=v({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function $n(){return new Ln}var Je=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=v({token:n,factory:()=>$n(),providedIn:"root"})}}return n})(),Ln=(()=>{class n extends Je{fromModel(e){return e&&x(e.year)&&x(e.month)&&x(e.day)?{year:e.year,month:e.month,day:e.day}:null}toModel(e){return e&&x(e.year)&&x(e.month)&&x(e.day)?{year:e.year,month:e.month,day:e.day}:null}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=q(n)))(i||n)}})()}static{this.\u0275prov=v({token:n,factory:n.\u0275fac})}}return n})(),Wn=(()=>{class n{processKey(e,t){let{state:i,calendar:a}=t;switch(e.key){case"PageUp":t.focusDate(a.getPrev(i.focusedDate,e.shiftKey?"y":"m",1));break;case"PageDown":t.focusDate(a.getNext(i.focusedDate,e.shiftKey?"y":"m",1));break;case"End":t.focusDate(e.shiftKey?i.maxDate:i.lastDate);break;case"Home":t.focusDate(e.shiftKey?i.minDate:i.firstDate);break;case"ArrowLeft":t.focusDate(a.getPrev(i.focusedDate,"d",1));break;case"ArrowUp":t.focusDate(a.getPrev(i.focusedDate,"d",a.getDaysPerWeek()));break;case"ArrowRight":t.focusDate(a.getNext(i.focusedDate,"d",1));break;case"ArrowDown":t.focusDate(a.getNext(i.focusedDate,"d",a.getDaysPerWeek()));break;case"Enter":case" ":t.focusSelect();break;default:return}e.preventDefault(),e.stopPropagation()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=v({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Hn=(()=>{class n{constructor(){this.i18n=u(W)}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=P({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,i){t&2&&V("bg-primary",i.selected)("text-white",i.selected)("text-muted",i.isMuted())("outside",i.isMuted())("active",i.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},attrs:Zt,decls:1,vars:1,template:function(t,i){t&1&&h(0),t&2&&j(i.i18n.getDayNumerals(i.date))},styles:[`[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-tertiary-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}
`],encapsulation:2,changeDetection:0})}}return n})(),Yn=(()=>{class n{constructor(){this._month=-1,this._year=-1,this.i18n=u(W),this.select=new A}changeMonth(e){this.select.emit(new O(this.date.year,F(e),1))}changeYear(e){this.select.emit(new O(F(e),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this.monthSelect.nativeElement.value=`${this._month}`),this.date.year!==this._year&&(this._year=this.date.year,this.yearSelect.nativeElement.value=`${this._year}`))}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=P({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,i){if(t&1&&Ae(Xt,7,se)(en,7,se),t&2){let a;Q(a=Z())&&(i.monthSelect=a.first),Q(a=Z())&&(i.yearSelect=a.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},decls:8,vars:2,consts:()=>{let e;e=$localize`:@@ngb.datepicker.select-month:Select month`;let t;t=$localize`:@@ngb.datepicker.select-month:Select month`;let i;i=$localize`:@@ngb.datepicker.select-year:Select year`;let a;return a=$localize`:@@ngb.datepicker.select-year:Select year`,[["month",""],["year",""],["aria-label",e,"title",t,1,"form-select",3,"change","disabled"],[3,"value"],["aria-label",i,"title",a,1,"form-select",3,"change","disabled"]]},template:function(t,i){if(t&1){let a=N();ce(0,"select",2,0),Pe("change",function(d){return m(a),p(i.changeMonth(d.target.value))}),C(2,tn,2,3,"option",3,K),de(),ce(4,"select",4,1),Pe("change",function(d){return m(a),p(i.changeYear(d.target.value))}),C(6,nn,2,2,"option",3,K),de()}t&2&&(z("disabled",i.disabled),l(2),E(i.months),l(2),z("disabled",i.disabled),l(2),E(i.years))},styles:[`ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}
`],encapsulation:2,changeDetection:0})}}return n})(),Un=(()=>{class n{constructor(){this.navigation=Se,this.i18n=u(W),this.months=[],this.navigate=new A,this.select=new A}onClickPrev(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(e){e.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}idMonth(e){return e}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=P({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},decls:11,vars:4,consts:()=>{let e;e=$localize`:@@ngb.datepicker.previous-month:Previous month`;let t;t=$localize`:@@ngb.datepicker.previous-month:Previous month`;let i;i=$localize`:@@ngb.datepicker.next-month:Next month`;let a;return a=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow","ngb-dp-arrow-prev"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years"],["aria-live","polite",1,"visually-hidden"],[1,"ngb-dp-arrow","ngb-dp-arrow-next"],["type","button","aria-label",i,"title",a,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],[1,"ngb-dp-arrow"],[1,"ngb-dp-month-name"]]},template:function(t,i){t&1&&(c(0,"div",0)(1,"button",1),_("click",function(o){return i.onClickPrev(o)}),M(2,"span",2),s()(),k(3,rn,1,4,"ngb-datepicker-navigation-select",3),k(4,ln,2,0),c(5,"div",4),C(6,cn,2,1,"span",null,$t,!0),s(),c(8,"div",5)(9,"button",6),_("click",function(o){return i.onClickNext(o)}),M(10,"span",2),s()()),t&2&&(l(),D("disabled",i.prevDisabled),l(2),w(i.showSelect?3:-1),l(),w(i.showSelect?-1:4),l(2),E(i.months),l(3),D("disabled",i.nextDisabled))},dependencies:[Yn],styles:[`ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow-next{justify-content:flex-end}.ngb-dp-arrow-next .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}
`],encapsulation:2,changeDetection:0})}}return n})(),qn=(()=>{class n{constructor(){this.templateRef=u(rt)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=Re({type:n,selectors:[["ng-template","ngbDatepickerContent",""]]})}}return n})(),Jn=(()=>{class n{constructor(){this._keyboardService=u(Wn),this._service=u(Ye),this.i18n=u(W),this.datepicker=u(Wt)}set month(e){this.viewModel=this._service.getMonth(e)}onKeyDown(e){this._keyboardService.processKey(e,this.datepicker)}doSelect(e){!e.context.disabled&&!e.hidden&&this.datepicker.onDateSelect(e.date)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=P({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,i){t&1&&_("keydown",function(o){return i.onKeyDown(o)})},inputs:{month:"month"},decls:3,vars:1,consts:[["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["role","row",1,"ngb-dp-week"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"disabled","tabindex","hidden","ngb-dp-today"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){t&1&&(k(0,fn,4,1,"div",0),C(1,yn,1,1,null,null,K)),t&2&&(w(i.viewModel.weekdays.length>0?0:-1),l(),E(i.viewModel.weeks))},dependencies:[je],styles:[`ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-tertiary-bg)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}
`],encapsulation:2})}}return n})(),Wt=(()=>{class n{constructor(){this.injector=u(oe),this._service=u(Ye),this._calendar=u(ne),this._i18n=u(W),this._config=u(qe),this._nativeElement=u(se).nativeElement,this._ngbDateAdapter=u(Je),this._ngZone=u(Ie),this._destroyRef=u(pe),this._injector=u(oe),this._controlValue=null,this._publicState={},this._initialized=!1,this.dayTemplate=this._config.dayTemplate,this.dayTemplateData=this._config.dayTemplateData,this.displayMonths=this._config.displayMonths,this.firstDayOfWeek=this._config.firstDayOfWeek,this.footerTemplate=this._config.footerTemplate,this.markDisabled=this._config.markDisabled,this.maxDate=this._config.maxDate,this.minDate=this._config.minDate,this.navigation=this._config.navigation,this.outsideDays=this._config.outsideDays,this.showWeekNumbers=this._config.showWeekNumbers,this.startDate=this._config.startDate,this.weekdays=this._config.weekdays,this.navigate=new A,this.dateSelect=new A,this.onChange=t=>{},this.onTouched=()=>{};let e=u(Ve);this._service.dateSelect$.pipe(Me()).subscribe(t=>{this.dateSelect.emit(t)}),this._service.model$.pipe(Me()).subscribe(t=>{let i=t.firstDate,a=this.model?this.model.firstDate:null;this._publicState={maxDate:t.maxDate,minDate:t.minDate,firstDate:t.firstDate,lastDate:t.lastDate,focusedDate:t.focusDate,months:t.months.map(T=>T.firstDate)};let o=!1;if(!i.equals(a)&&(this.navigate.emit({current:a?{year:a.year,month:a.month}:null,next:{year:i.year,month:i.month},preventDefault:()=>o=!0}),o&&a!==null)){this._service.open(a);return}let d=t.selectedDate,R=t.focusDate,I=this.model?this.model.focusDate:null;this.model=t,te(d,this._controlValue)&&(this._controlValue=d,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(d))),te(R,I)&&I&&t.focusVisible&&this.focus(),e.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(e){this._service.focus(O.from(e))}focusSelect(){this._service.focusSelect()}focus(){it({read:()=>{this._nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]')?.focus()}},{injector:this._injector})}navigateTo(e){this._service.open(O.from(e?e.day?e:Ce(ae({},e),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{let e=Ee(this._contentEl.nativeElement,"focusin"),t=Ee(this._contentEl.nativeElement,"focusout");Xe(e,t).pipe(ge(i=>{let a=i.target,o=i.relatedTarget;return!(a?.classList.contains("ngb-dp-day")&&o?.classList.contains("ngb-dp-day")&&this._nativeElement.contains(a)&&this._nativeElement.contains(o))}),Me(this._destroyRef)).subscribe(({type:i})=>this._ngZone.run(()=>this._service.set({focusVisible:i==="focusin"})))})}ngOnInit(){if(this.model===void 0){let e={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(t=>e[t]=this[t]),this._service.set(e),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate),this._initialized=!0}ngOnChanges(e){let t={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in e).forEach(i=>t[i]=this[i]),this._service.set(t),"startDate"in e&&this._initialized){let{currentValue:i,previousValue:a}=e.startDate;Lt(a,i)&&this.navigateTo(this.startDate)}}onDateSelect(e){this._service.focus(e),this._service.select(e,{emitEvent:!0})}onNavigateDateSelect(e){this._service.open(e)}onNavigateEvent(e){switch(e){case Se.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Se.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1));break}}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._service.set({disabled:e})}writeValue(e){this._controlValue=O.from(this._ngbDateAdapter.fromModel(e)),this._service.select(this._controlValue)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=P({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,i,a){if(t&1&&ot(a,qn,7),t&2){let o;Q(o=Z())&&(i.contentTemplateFromContent=o.first)}},viewQuery:function(t,i){if(t&1&&Ae(Dn,7)(bn,7),t&2){let a;Q(a=Z())&&(i._defaultDayTemplate=a.first),Q(a=Z())&&(i._contentEl=a.first)}},hostVars:2,hostBindings:function(t,i){t&2&&V("disabled",i.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],features:[Be([{provide:We,useExisting:me(()=>n),multi:!0},Ye]),Fe],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],[1,"ngb-dp-month"],[1,"ngb-dp-month-name"],[3,"month"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(t,i){if(t&1&&(L(0,Mn,1,5,"ng-template",null,0,fe)(2,Sn,2,0,"ng-template",null,1,fe),c(4,"div",3),k(5,kn,1,7,"ngb-datepicker-navigation",4),s(),c(6,"div",5,2),L(8,wn,0,0,"ng-template",6),s(),L(9,Nn,0,0,"ng-template",7)),t&2){let a=X(3);l(5),w(i.navigation!=="none"?5:-1),l(),V("ngb-dp-months",!i.contentTemplate),l(2),D("ngTemplateOutlet",i.contentTemplate||(i.contentTemplateFromContent==null?null:i.contentTemplateFromContent.templateRef)||a)("ngTemplateOutletContext",ut(7,vn,i))("ngTemplateOutletInjector",i.injector),l(),D("ngTemplateOutlet",i.footerTemplate)}},dependencies:[je,Hn,Jn,Un],styles:[`ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-tertiary-bg)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-tertiary-bg)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}
`],encapsulation:2,changeDetection:0})}}return n})();function Kn(){return new zn}var Ht=(()=>{class n{static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=v({token:n,factory:()=>Kn(),providedIn:"root"})}}return n})(),zn=(()=>{class n extends Ht{parse(e){if(e!=null){let t=e.trim().split("-");if(t.length===1&&G(t[0]))return{year:F(t[0]),month:null,day:null};if(t.length===2&&G(t[0])&&G(t[1]))return{year:F(t[0]),month:F(t[1]),day:null};if(t.length===3&&G(t[0])&&G(t[1])&&G(t[2]))return{year:F(t[0]),month:F(t[1]),day:F(t[2])}}return null}format(e){return e?`${e.year}-${G(e.month)?Le(e.month):""}-${G(e.day)?Le(e.day):""}`:""}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=q(n)))(i||n)}})()}static{this.\u0275prov=v({token:n,factory:n.\u0275fac})}}return n})(),jt=(()=>{class n extends qe{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=e=>e,this.restoreFocus=!0}static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=q(n)))(i||n)}})()}static{this.\u0275prov=v({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Yt=(()=>{class n{constructor(){this._parserFormatter=u(Ht),this._elRef=u(se),this._vcRef=u(at),this._ngZone=u(Ie),this._calendar=u(ne),this._dateAdapter=u(Je),this._document=u(tt),this._changeDetector=u(Ve),this._injector=u(oe),this._config=u(jt),this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=Dt(),this._destroyCloseHandlers$=new he,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.positionTarget=this._config.positionTarget,this.dateSelect=new A,this.navigate=new A,this.closed=new A,this._onChange=e=>{},this._onTouched=()=>{},this._validatorChange=()=>{}}get disabled(){return this._disabled}set disabled(e){this._disabled=e===""||e&&e!=="false",this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}registerOnValidatorChange(e){this._validatorChange=e}setDisabledState(e){this.disabled=e}validate(e){let{value:t}=e;if(t!=null){let i=this._fromDateStruct(this._dateAdapter.fromModel(t));if(!i)return{ngbDate:{invalid:t}};if(this.minDate&&i.before(O.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:t}}};if(this.maxDate&&i.after(O.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:t}}}}return null}writeValue(e){this._model=this._fromDateStruct(this._dateAdapter.fromModel(e)),this._writeModelValue(this._model)}manualDateChange(e,t=!1){let i=e!==this._inputValue;i&&(this._inputValue=e,this._model=this._fromDateStruct(this._parserFormatter.parse(e))),(i||!t)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):e===""?null:e),t&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){this._cRef=this._vcRef.createComponent(Wt,{injector:this._injector}),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(t=>{this.writeValue(t),this._onChange(t),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),this.container==="body"&&this._document.querySelector(this.container)?.appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,vt(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus());let e;if($e(this.positionTarget)?e=this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?e=this.positionTarget:e=this._elRef.nativeElement,this.positionTarget&&!e)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._ngZone.runOutsideAngular(()=>{this._cRef&&e&&(this._positioning.createPopper({hostElement:e,targetElement:this._cRef.location.nativeElement,placement:this.placement,updatePopperOptions:t=>this.popperOptions(Mt([0,2])(t))}),this._afterRenderRef=nt({mixedReadWrite:()=>{this._positioning.update()}},{injector:this._injector}))}),this._setCloseHandlers()}}close(){if(this.isOpen()){this._cRef?.destroy(),this._cRef=null,this._positioning.destroy(),this._afterRenderRef?.destroy(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let e=this._elWithFocus;$e(this.restoreFocus)?e=this._document.querySelector(this.restoreFocus):this.restoreFocus!==void 0&&(e=this.restoreFocus),e&&e.focus?e.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(e){this.isOpen()&&this._cRef.instance.navigateTo(e)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(e){if((e.minDate||e.maxDate)&&(this._validatorChange(),this.isOpen()&&(e.minDate&&this._cRef.setInput("minDate",this.minDate),e.maxDate&&this._cRef.setInput("maxDate",this.maxDate))),e.datepickerClass){let{currentValue:t,previousValue:i}=e.datepickerClass;this._applyPopupClass(t,i)}e.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(e){["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(t=>{this[t]!==void 0&&e.setInput(t,this[t])}),e.setInput("startDate",this.startDate||this._model)}_applyPopupClass(e,t){let i=this._cRef?.location.nativeElement;i&&(e&&i.classList.add(e),t&&i.classList.remove(t))}_applyPopupStyling(e){e.classList.add("dropdown-menu","show"),this.container==="body"&&e.classList.add("ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(e){e.navigate.subscribe(t=>this.navigate.emit(t)),e.dateSelect.subscribe(t=>{this.dateSelect.emit(t),(this.autoClose===!0||this.autoClose==="inside")&&this.close()})}_writeModelValue(e){let t=this._parserFormatter.format(e);this._inputValue=t,this._elRef.nativeElement.value=t,this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(e)),this._onTouched())}_fromDateStruct(e){let t=e?new O(e.year,e.month,e.day):null;return this._calendar.isValid(t)?t:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),bt(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275dir=Re({type:n,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(t,i){t&1&&_("input",function(o){return i.manualDateChange(o.target.value)})("change",function(o){return i.manualDateChange(o.target.value,!0)})("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),t&2&&z("disabled",i.disabled)},inputs:{autoClose:"autoClose",contentTemplate:"contentTemplate",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],features:[Be([{provide:We,useExisting:me(()=>n),multi:!0},{provide:Tt,useExisting:me(()=>n),multi:!0},{provide:qe,useExisting:jt}]),Fe]})}}return n})();var Vi=new Date(1882,10,12),ji=new Date(2174,10,25);var $i=1e3*60*60*24;var Ke=1080,Qn=24*Ke,Zn=12*Ke+793,Li=29*Qn+Zn,Wi=11*Ke+204;var ke=class n{selectedDate=pt();onDateSelected(r){}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=P({type:n,selectors:[["date-picker"]],inputs:{selectedDate:[1,"selectedDate"]},outputs:{selectedDate:"selectedDateChange"},decls:3,vars:1,consts:[["d","ngbDatepicker"],["placeholder","yyyy-mm-dd","name","dp","ngbDatepicker","",1,"form-control","p-1",2,"position","absolute","opacity","0","pointer-events","none",3,"ngModelChange","dateSelect","ngModel"],["buttonIcon","fluent:calendar-20-regular",1,"btn","btn-secondary","bg-body","p-0","btn-sm","border-0",3,"click"]],template:function(e,t){if(e&1){let i=N();c(0,"input",1,0),De("ngModelChange",function(o){return m(i),ye(t.selectedDate,o)||(t.selectedDate=o),p(o)}),_("dateSelect",function(o){return m(i),p(t.onDateSelected(o))}),s(),c(2,"button",2),_("click",function(){m(i);let o=X(1);return p(o.toggle())}),s()}e&2&&_e("ngModel",t.selectedDate)},dependencies:[ve,Yt,be,xt,St,kt],styles:["[_nghost-%COMP%]{position:relative}"]})};var we=class n{dayTemplate=U(void 0);constructor(){this.setTemplate(),this.loadDayTemplate()}setTemplate(){if(!localStorage.getItem("dayTemplate")){let e=new Gt;e.entries.push({position:1,meal:new ee("","Meal I")}),e.entries.push({position:2,meal:new ee("","Meal II")}),e.entries.push({position:3,meal:new ee("","Meal III")}),e.entries.push({position:4,meal:new ee("","Meal IV")}),e.entries.push({position:5,meal:new ee("","Snacks")}),localStorage.setItem("dayTemplate",JSON.stringify(e))}}loadDayTemplate(){this.dayTemplate.set(JSON.parse(localStorage.getItem("dayTemplate")))}getDayTemplate(){return this.dayTemplate()}static \u0275fac=function(e){return new(e||n)};static \u0275prov=v({token:n,factory:n.\u0275fac,providedIn:"root"})};var ze=zt(Qt()),b=class n{static getStartOfToday(r=!0){return r?(0,ze.default)().utc().startOf("day"):(0,ze.default)().startOf("day")}static fromNgbDateStruct(r,e=!0){return n.getStartOfToday(e).set("year",r.year??0).set("month",(r.month??1)-1).set("date",r.day??1)}};var ei=["editMealNoteDialog"],ti=(n,r,e,t,i)=>({"border-warning":n,"text-primary":r,"fw-bold":e,"fst-normal":t,"bg-body-secondary":i}),ni=(n,r)=>({"bg-body-secondary":n,"bg-dark-subtle":r});function ii(n,r){if(n&1){let e=N();c(0,"div",22),_("click",function(){let i=m(e).$implicit,a=f();return p(a.selectWeekDay(i))}),h(1),s()}if(n&2){let e=r.$implicit,t=r.$index,i=f();Ge(ht(3,ti,i.isDaySelected(e),i.isTodayLbl(e),i.isTodayLbl(e),i.isTodayLbl(e),t===5||t===6)),l(),g(" ",e," ")}}function ri(n,r){if(n&1){let e=N();c(0,"textarea",33),_("input",function(i){m(e),f(2);let a=ue(0),o=f();return p(o.updateMealNote(i.target.value,a.id))}),s()}if(n&2){f(2);let e=ue(0);D("value",e.note)}}function ai(n,r){if(n&1){let e=N();c(0,"div",34)(1,"div",35),h(2),s(),c(3,"div",36)(4,"div",37),h(5),s(),c(6,"div",38),h(7),s(),c(8,"div",38),h(9),s(),c(10,"div",38),h(11),s(),c(12,"div",39),h(13),s(),c(14,"div",39)(15,"input",40),_("input",function(i){let a=m(e).$index,o=f(2).$implicit,d=f();return p(d.updateFoodWeight(o.position,a,i.target.value))}),s()()(),c(16,"button",41),_("click",function(){let i=m(e).$index,a=f(2).$implicit,o=ue(0),d=f();return p(d.removeFood(a.position,i,o))}),s()()}if(n&2){let e=r.$implicit,t=r.$index;V("bg-body-tertiary",t%2!==0),l(2),g(" ",e.name," ");let i=e.weight*.01;l(3),g(" ",(e.protein*i).toFixed(1)," "),l(2),g(" ",(e.carbs*i).toFixed(1)," "),l(2),g(" ",(e.fats*i).toFixed(1)," "),l(2),g(" ",(e.fiber*i).toFixed(1)," "),l(2),g(" ",(e.calories*i).toFixed(1)," "),l(2),D("value",e.weight)}}function oi(n,r){if(n&1){let e=N();c(0,"div",29)(1,"input",30),_("input",function(i){m(e);let a=f().$implicit,o=f();return p(o.updateMealName(i.target.value,a.position))}),s(),c(2,"button",31),_("click",function(){m(e);let i=f(2);return p(i.toggleEditMealNoteDialog())}),s(),L(3,ri,1,1,"ng-template",null,1,fe),s(),C(5,ai,17,9,"div",32,J)}if(n&2){f();let e=ue(0);l(),D("value",e.name),l(),V("btn-outline-success",e.note),l(3),E(e.foods)}}function si(n,r){if(n&1){let e=N();ct(0),c(1,"div",14)(2,"h2",23)(3,"button",24),_("click",function(){let i=m(e).$index,a=f();return p(a.setOpenedAccordionIndex(i))}),h(4),s(),c(5,"div",25)(6,"div",26)(7,"div",11),h(8),s(),c(9,"div",11),h(10),s(),c(11,"div",11),h(12),s(),c(13,"div",11),h(14),s(),c(15,"div",11),h(16),s(),M(17,"div",11),s()(),c(18,"button",27),_("click",function(i){let a=m(e).$implicit,o=X(20),d=f();return i.stopPropagation(),p(d.addFood(a.position,o))}),s()(),c(19,"div",28,0),k(21,oi,7,3),s()()}if(n&2){let e=r.$implicit,t=r.$index,i=f(),a=dt(i.getRespectiveMeal(e.position));l(3),le("data-bs-target","#flush-collapse"+t),l(),g(" ",i.mealPositionMap[e.position]," "),l(2),Ge(ft(12,ni,i.openedAccordionIndex()!==t,i.openedAccordionIndex()===t)),l(2),g(" ",i.getMealProtein(a).toFixed(1)," "),l(2),g(" ",i.getMealCarbs(a).toFixed(1)," "),l(2),g(" ",i.getMealFats(a).toFixed(1)," "),l(2),g(" ",i.getMealFiber(a).toFixed(1)," "),l(2),g(" ",i.getMealCalories(a).toFixed(1)," "),l(3),D("id","flush-collapse"+t),l(2),w(a?21:-1)}}var Ut=class n{weekdays=["Mo","Tu","We","Th","Fr","Sa","Su"];calendar=u(ne);selectedDate=U(this.calendar.getToday());isDaySelected(r){let e=b.getStartOfToday(),t=b.fromNgbDateStruct(this.selectedDate());return r===this.weekdays[t.day()===0?6:t.day()-1]&&e.isoWeek()===t.isoWeek()}isTodayLbl(r){let e=b.getStartOfToday();return r===this.weekdays[e.day()===0?6:e.day()-1]}selectWeekDay(r){let e=this.weekdays.indexOf(r),t=b.getStartOfToday(),i=b.fromNgbDateStruct(this.selectedDate());t.isoWeek()===i.isoWeek()&&(i=i.isoWeekday(e+1),this.selectedDate.set({day:i.date(),month:i.month()+1,year:i.year()}))}dayTemplateService=u(we);router=u(Ot);addFood(r,e){yt.getOrCreateInstance(e).show();let t=b.fromNgbDateStruct(this.selectedDate()).toISOString();this.router.navigate([Ct.myFoods],{queryParams:{diaryDate:t,mealPosition:r}})}dairyLogService=u(Bt);mealPositionMap=Et;getRespectiveMeal(r){let e=b.fromNgbDateStruct(this.selectedDate()).toISOString();return this.dairyLogService.getRespectiveMeal(e,r)}getMealProtein=It;getMealCarbs=Ft;getMealFats=Rt;getMealFiber=Pt;getMealCalories=At;updateMealName(r,e){this.dairyLogService.updateMealName(b.fromNgbDateStruct(this.selectedDate()).toISOString(),e,r)}removeFood(r,e,t){this.dairyLogService.removeFood(b.fromNgbDateStruct(this.selectedDate()).toISOString(),r,e),t.foods.length||this.dairyLogService.clearMeal(b.fromNgbDateStruct(this.selectedDate()).toISOString(),r)}updateFoodWeight(r,e,t){this.dairyLogService.updateFoodWeight(b.fromNgbDateStruct(this.selectedDate()).toISOString(),r,e,+t)}getDayStats(){return this.dairyLogService.getDayStats(b.fromNgbDateStruct(this.selectedDate()).toISOString())}openedAccordionIndex=U(-1);setOpenedAccordionIndex(r){this.openedAccordionIndex()===r?this.openedAccordionIndex.set(-1):this.openedAccordionIndex.set(r)}modalService=u(Nt);editMealNoteDialogRef=mt("editMealNoteDialog");toggleEditMealNoteDialog(){this.modalService.open(this.editMealNoteDialogRef(),{size:"sm",centered:!0})}updateMealNote(r,e){this.dairyLogService.updateMealNote(b.fromNgbDateStruct(this.selectedDate()).toISOString(),e,r)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=P({type:n,selectors:[["diary"]],viewQuery:function(e,t){e&1&&st(t.editMealNoteDialogRef,ei,5),e&2&&lt()},decls:45,vars:7,consts:[["collapsible",""],["editMealNoteDialog",""],[1,"content-wrapper"],[1,"bg-secondary-subtle","p-1"],[1,"d-flex","justify-content-between"],[1,"weekday","bg-body","cursor-pointer",3,"class"],[3,"selectedDateChange","selectedDate"],[1,"border-bottom"],[1,"d-flex"],[2,"width","100px"],[1,"row","g-0","flex-grow-1","fw-bold","text-muted","fst-italic","opacity-25","bg-body-secondary",2,"font-size","12px"],[1,"col","col-2","align-self-center","text-center"],[2,"width","30px"],["id","accordionFlush",1,"accordion","accordion-flush"],[1,"accordion-item"],[1,"d-flex","border-top"],[1,"fw-bold","text-muted","opacity-75","fst-italic",2,"width","100px"],[1,"row","g-0","flex-grow-1","fw-bold","text-muted","fst-italic","opacity-75",2,"font-size","12px"],[1,"col","col-2","text-center","align-content-center","bg-body-secondary","border-start"],[1,"col","col-2","text-center","align-content-center"],[1,"col","col-2","text-center","align-content-center","bg-body-secondary"],[1,"col","col-2","text-center","align-content-center","border-end"],[1,"weekday","bg-body","cursor-pointer",3,"click"],[1,"accordion-header","d-flex","align-items-center"],["type","button","data-bs-toggle","collapse",1,"accordion-button","collapsed","p-1","text-truncate","text-muted","fw-bold","opacity-75",2,"width","100px",3,"click"],[1,"flex-grow-1","align-self-stretch"],[1,"row","g-0","h-100","fw-light","fst-italic",2,"font-size","12px"],["buttonIcon","iconoir:lens-plus","iconSize","16px",1,"btn","btn-success","mx-1",3,"click"],["data-bs-parent","#accordionFlush",1,"accordion-collapse","collapse","bg-body-secondary","rounded",3,"id"],[1,"d-flex","align-items-center","p-1","gap-1"],["type","text",1,"form-control","form-control-sm","meal-name-input","text-center",3,"input","value"],["buttonIcon","iconoir:notes","iconSize","16px",1,"btn","btn-outline-secondary",3,"click"],[1,"d-flex","mb-1",3,"bg-body-tertiary"],["rows","3","placeholder","Meal note",1,"form-control","form-control-sm","meal-name-input","text-center",3,"input","value"],[1,"d-flex","mb-1"],[1,"d-flex","align-items-center","ps-1","border-end","border-dark-subtle",2,"min-width","100px","font-size","12px"],[1,"row","g-0","fw-light","fst-italic","flex-grow-1","align-self-stretch",2,"font-size","12px"],[1,"col","col-2","align-self-stretch","text-center","border-end","border-dark-subtle","align-content-center","m-0"],[1,"col","col-2","align-self-stretch","text-center","border-end","border-dark-subtle","align-content-center"],[1,"col","col-2","align-self-stretch","text-center","align-content-center"],["type","number",1,"form-control","form-control-sm","text-center","p-0","border","border-success-subtle","bg-body-tertiary","gram-input",3,"input","value"],["buttonIcon","iconoir:trash","iconSize","16px",1,"btn","btn-outline-warning","mx-1","opacity-50","align-self-center",3,"click"]],template:function(e,t){if(e&1){let i=N();c(0,"div",2)(1,"div",3)(2,"div",4),C(3,ii,2,9,"div",5,J),c(5,"date-picker",6),De("selectedDateChange",function(o){return m(i),ye(t.selectedDate,o)||(t.selectedDate=o),p(o)}),s()()(),M(6,"div",7),c(7,"div",8),M(8,"div",9),c(9,"div",10)(10,"div",11),h(11,"P"),s(),c(12,"div",11),h(13,"C"),s(),c(14,"div",11),h(15,"Fa"),s(),c(16,"div",11),h(17,"Fi"),s(),c(18,"div",11),h(19,"KCal"),s(),c(20,"div",11),h(21,"G"),s()(),M(22,"div",12),s(),M(23,"div",7),c(24,"div",13),C(25,si,22,15,"div",14,J),s(),c(27,"div",15)(28,"div",16),h(29,"Total"),s(),c(30,"div",17)(31,"div",18),h(32),s(),c(33,"div",19),h(34),s(),c(35,"div",20),h(36),s(),c(37,"div",19),h(38),s(),c(39,"div",20),h(40),s(),c(41,"div",21),h(42),s()(),M(43,"div",12),s(),M(44,"div",7),s()}if(e&2){l(3),E(t.weekdays),l(2),_e("selectedDate",t.selectedDate),l(20),E(t.dayTemplateService.getDayTemplate().entries);let i=t.getDayStats();l(7),g(" ",i.protein.toFixed(0)," "),l(2),g(" ",i.carbs.toFixed(0)," "),l(2),g(" ",i.fat.toFixed(0)," "),l(2),g(" ",i.fiber.toFixed(0)," "),l(2),g(" ",i.calories.toFixed(0)," "),l(2),g(" ",i.weight.toFixed(0)," ")}},dependencies:[ve,wt,be,ke],styles:[".weekday[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;border:2px solid transparent;transition:border .3s;font-style:italic}.accordion-button[_ngcontent-%COMP%], .meal-name-input[_ngcontent-%COMP%], .gram-input[_ngcontent-%COMP%]{box-shadow:none}.gram-input[_ngcontent-%COMP%]{border-radius:2px}"]})};export{Ut as Diary};
