import{a as N}from"./chunk-7QS2YA2B.js";import{Oa as v,Sa as m,Sb as F,Ta as C,Wa as S,X as h,Ya as M,a as u,aa as d,b as g,fc as R,qc as r,ra as b,ub as w,xa as y,yb as x}from"./chunk-DAZPDLGM.js";var A=(e,t,i)=>({width:e,height:t,fontSize:i}),a=class e{icon=r.required();flip=r();rotate=r();size=r();width=r();height=r();fontSize=r();static \u0275fac=function(i){return new(i||e)};static \u0275cmp=S({type:e,selectors:[["iconify"]],inputs:{icon:[1,"icon"],flip:[1,"flip"],rotate:[1,"rotate"],size:[1,"size"],width:[1,"width"],height:[1,"height"],fontSize:[1,"fontSize"]},decls:1,vars:9,consts:[[3,"icon","flip","rotate"]],template:function(i,n){i&1&&w(0,"iconify-icon",0),i&2&&(F(R(5,A,n.width()||n.size(),n.height()||n.size(),n.fontSize()||n.size())),x("icon",n.icon())("flip",n.flip())("rotate",n.rotate()))},styles:["[_nghost-%COMP%]{display:inline-block;vertical-align:middle}[_nghost-%COMP%]   iconify-icon[_ngcontent-%COMP%]{display:flex;vertical-align:middle;align-items:center;justify-content:center}"],changeDetection:0})};var I=class e{foods=b([]);constructor(){this.loadFoods()}loadFoods(){let t=localStorage.getItem("foods");t?this.foods.set(JSON.parse(t)):this.foods.set([])}addEditFood(t){this.foods().find(n=>n.id===t.id)?this.foods.update(n=>n.map(s=>s.id===t.id?t:s)):this.foods.update(n=>[...n,g(u({},t),{id:t.id||N()})]),localStorage.setItem("foods",JSON.stringify(this.foods()))}deleteFood(t){this.foods.update(i=>i.filter(n=>n.id!==t.id)),localStorage.setItem("foods",JSON.stringify(this.foods()))}downloadFoods(){let t=JSON.stringify(this.foods()),i=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(i),s=document.createElement("a");s.href=n,s.download="foods.json",s.click(),URL.revokeObjectURL(n)}setFoods(t){localStorage.setItem("foods",JSON.stringify(t)),this.loadFoods()}getFoodById(t){return this.foods().find(i=>i.id===t)}getFoodByBarcode(t){return this.foods().find(i=>i.barcode===t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"})};var z=(o=>(o[o.None=0]="None",o[o.Carbs=1]="Carbs",o[o.Proteins=2]="Proteins",o[o.Fats=3]="Fats",o[o.Vegetable=4]="Vegetable",o[o.Complex=5]="Complex",o[o.Other=6]="Other",o))(z||{}),ie={0:{bgColor:"#302010"},1:{bgColor:"#706030"},2:{bgColor:"#305090"},3:{bgColor:"#805040"},4:{bgColor:"#208040"},5:{bgColor:"#654070"},6:{bgColor:"#333355"}};var D=class{constructor(t="",i="",n=0,s=0,f=0,p=0,o=0,U=0,_=100,q="",H=""){this.id=t;this.name=i;this.macroCategory=n;this.protein=s;this.carbs=f;this.fats=p;this.fiber=o;this.calories=U;this.weight=_;this.barcode=q;this.note=H}};function O(e){return e&&typeof e=="object"&&typeof e.id=="string"&&typeof e.name=="string"&&typeof e.macroCategory=="number"&&typeof e.protein=="number"&&typeof e.carbs=="number"&&typeof e.fats=="number"&&typeof e.fiber=="number"&&typeof e.calories=="number"&&typeof e.weight=="number"&&(!e.barcode||typeof e.barcode=="string")&&typeof e.note=="string"}var P=class e{vcr=d(C);renderer=d(v);elementRef=d(y);buttonIcon=r.required();minWidthPx=r(120);iconSize=r("32px");ngAfterViewInit(){this.renderer.setAttribute(this.elementRef.nativeElement,"type","button"),this.renderer.addClass(this.elementRef.nativeElement,"d-flex"),this.renderer.addClass(this.elementRef.nativeElement,"justify-content-between"),this.renderer.addClass(this.elementRef.nativeElement,"align-items-center"),this.renderer.addClass(this.elementRef.nativeElement,"align-content-center"),this.renderer.addClass(this.elementRef.nativeElement,"flex-shrink-0"),this.renderer.addClass(this.elementRef.nativeElement,"gap-2"),this.renderer.setStyle(this.elementRef.nativeElement,"white-space","nowrap"),this.renderer.setStyle(this.elementRef.nativeElement,"padding","0.125rem 0.5rem");let t=this.vcr.createComponent(a,{bindings:[m("icon",this.buttonIcon),m("size",this.iconSize)]});this.elementRef.nativeElement.childNodes?.[0]?.textContent?.trim()?(this.renderer.setStyle(this.elementRef.nativeElement,"min-width",`${this.minWidthPx()}px`),this.renderer.setStyle(this.elementRef.nativeElement,"padding","0.125rem 0.5rem")):this.renderer.setStyle(this.elementRef.nativeElement,"padding","0.125rem"),this.renderer.appendChild(this.elementRef.nativeElement,t.location.nativeElement)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=M({type:e,selectors:[["","buttonIcon",""]],inputs:{buttonIcon:[1,"buttonIcon"],minWidthPx:[1,"minWidthPx"],iconSize:[1,"iconSize"]}})};var l=class{constructor(t=0,i=0,n=0,s=0,f=0,p=0){this.proteins=t;this.carbs=i;this.fats=n;this.fiber=s;this.calories=f;this.weight=p}};var c=class{constructor(t="",i="",n=[],s="",f){this.id=t;this.name=i;this.foods=n;this.note=s;this.time=f}};function W(e){return e?.foods?.length?e.foods.reduce((t,i)=>t+i.protein*i.weight*.01,0):0}function k(e){return e?.foods?.length?e.foods.reduce((t,i)=>t+i.carbs*i.weight*.01,0):0}function B(e){return e?.foods?.length?e.foods.reduce((t,i)=>t+i.fats*i.weight*.01,0):0}function J(e){return e?.foods?.length?e.foods.reduce((t,i)=>t+i.fiber*i.weight*.01,0):0}function L(e){return e?.foods?.length?e.foods.reduce((t,i)=>t+i.calories*i.weight*.01,0):0}function T(e){return e?.foods?.length?e.foods.reduce((t,i)=>t+i.weight,0):0}function me(e){return new l(W(e),k(e),B(e),J(e),L(e),T(e))}var V=class extends c{constructor(i="",n="",s=[],f=1,p=""){super(i,n,s,p);this.portions=f}};function ye(e){return e&&typeof e=="object"&&typeof e.id=="string"&&typeof e.name=="string"&&typeof e.portions=="number"&&typeof e.note=="string"&&Array.isArray(e.foods)&&e.foods.every(t=>O(t))}export{a,I as b,z as c,ie as d,D as e,O as f,P as g,l as h,c as i,W as j,k,B as l,J as m,L as n,T as o,me as p,V as q,ye as r};
